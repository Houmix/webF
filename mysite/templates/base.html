{% load static %}

<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}SmartCity{% endblock %}</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <script type="module" src="{% static 'js/script.js' %}"></script>
</head>

<body>
    <!-- Gradient Background -->
    <div id="box" class="gradient-bg"></div>

    <!-- Header -->
    <header>
        <div class="header-content">
            <div class="header-left">
                <button class="menu-toggle desktop-only">
                    <span class="material-icons-round">menu</span>
                </button>
                <a href="{% url 'Home' %}" style="text-decoration:none"><h1>SmartCity</h1></a>
            </div>
            <!-- <div class="auth-buttons">
                <a href="{% url 'Home' %}" class="auth-button">Back to Home</a>
            </div> -->
            {% if request.user.is_authenticated%}
            <div class="auth-buttons">
                <div class="account-menu">
                    <button class="account-button">
                        <img src="https://via.placeholder.com/40" alt="Profile" class="profile-pic">
                        <span class="material-icons-round">expand_more</span>
                    </button>
                    <div class="account-dropdown">
                        <a href="{% url 'MySpace' %}" class="dropdown-item">
                            <span class="material-icons-round">person</span>
                            Mon profil
                        </a>
                        <a href="{% url 'Dashboard' %}" class="dropdown-item">
                            <span class="material-icons-round">dashboard</span>
                            Tableau de bord
                        </a>
                        <a href="{% url 'Logout' %}" class="dropdown-item">
                            <span class="material-icons-round">logout</span>
                            Déconnexion
                        </a>
                    </div>
                </div>
            </div>
            {% else %}
            <div class="auth-buttons">
                <a href="{% url 'Login' %}" class="auth-button">Connexion</a>
                <a href="{% url 'SignUp' %}" class="auth-button signup">Créer un compte</a>
            </div>
            {%endif%}
        </div>
    </header>
    <!-- Full Page Menu -->
    <div class="full-page-menu">
        <div class="menu-content">
            <button class="close-menu">
                <span class="material-icons-round">close</span>
            </button>
            <nav class="menu-nav">
                <ul class="menu-list">
                    <li>
                        <a href="{% url 'Home' %}" class="menu-link">
                            <span class="material-icons-round">home</span>
                            <span>Accueil</span>
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'Contact' %}" class="menu-link">
                            <span class="material-icons-round">contact_support</span>
                            <span>Contact</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>

    <!-- Mobile Menu Toggle -->
    <button class="menu-toggle mobile-only">
        <span class="material-icons-round">menu</span>
    </button>

    <!-- Main Content -->
    <main>
        {% block content %}

        {% endblock %}
    </main>

    <!-- Footer -->
    <footer>
        <p>&copy; 2025 SmartCity. All rights reserved.</p>
    </footer>
</body>

</html>